<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  
    <!-- Chosen -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
    <title>Mom Playdates</title>
  </head>
  <body>
    <nav class="navbar" style="background-color: #a1c9d0; border: dashed 6px #ffbdbd;">
      <span
        class="navbar-brand"
        style="
          color: #ffbdbd;
          font-size: 30px;
          font-weight: 700;
          text-shadow: 2px 2px 4px black;
          font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande',
            'Lucida Sans', Arial, sans-serif;
        "
        >Mom Playdates</span
      >
    </nav>

    <div
      class="container mx-auto"
      style="
        background-color: #ffbdbd;
        margin: 20px;
        box-shadow: 1px 2px 4px 3px grey;
      "
    >
      <h3 style="color: #6eacb7; text-shadow: 1px 1px 1px black; text-align: center; font-weight: 700;">Survey</h3>

      <hr style="border: dashed 1px #6eacb7;">

      <form style="color: #0d91a8;">
        <label for="name">Name (Required)</label>
        <div class="row">
          <div class="col">
            <input
              id="name"
              type="text"
              class="form-control"
              required
            />
          </div>

        </div>
        <div style="margin-top: 5px;">
          <label for="photo">Photo of You (Required)</label>
          <input id="photo" type="text" class="form-control" required />
        </div>

        <hr />

        <ol style="padding-bottom: 20px;">
          <li>
            <div class="form-group">
              <label for="exampleFormControlSelect3"
                >You never realized how weird you are until you have a kid that
                acts just like you.</label
              >
              <select class="chosen-select" id="question1">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </li>

          <li>
            <div class="form-group">
              <label for="exampleFormControlSelect4"
                >The fastest land animal is a toddler with something in his
                mouth.</label
              >
              <select class="chosen-select" id="question2">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </li>

          <li>
            <div class="form-group">
              <label for="exampleFormControlSelect5"
                >My kids will walk past everyone and come bang on the shower
                door for me to open a snack.</label
              >
              <select class="chosen-select" id="question3">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </li>
          <li>
            <div class="form-group">
              <label for="exampleFormControlSelect6"
                >Having kids is like continually having to clean up after a
                party you didn't attend.</label
              >
              <select class="chosen-select" id="question4">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </li>
          <li>
            <div class="form-group">
              <label for="exampleFormControlSelect7"
                >Silence means your kid(s) are up to no good.</label
              >
              <select class="chosen-select" id="question5">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </li>
          <li>
            <div class="form-group">
              <label for="exampleFormControlSelect8"
                >The 5-second rule for food is real.</label
              >
              <select class="chosen-select" id="question6">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </li>
          <li>
            <div class="form-group">
              <label for="exampleFormControlSelect9"
                >When I say: "I’m just going to the toilet", my kids
                hear…"family meeting assemble in the bathroom now!”</label
              >
              <select class="chosen-select" id="question7">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </li>
          <li>
            <div class="form-group">
              <label for="exampleFormControlSelect10"
                >My kid is turning out to be exactly like me. Well played,
                Karma. Well. played.</label
              >
              <select class="chosen-select" id="question8">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </li>

          <li>
            <div class="form-group">
              <label for="exampleFormControlSelect11"
                >A dream vaction does not involve the kid(s).</label
              >
              <select class="chosen-select" id="question9">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </li>
          <li>
            <div class="form-group">
          <label for="exampleFormControlSelect12"
            >Ketchup counts as a vegetable.</label
          >
          <select class="chosen-select" id="question10">
            <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
          </select>
          </div>
          <button id="submit" type="submit" class="btn btn-lg btn-block" style="background-color: #6eacb7; color: white; box-shadow: 3px 6px grey; border: solid 1px grey"><i class="fa fa-check-circle" aria-hidden="true"></i>
            Submit</button>
          </form>
        </li>
     </ol>
</div>
<footer class="footer">
  <div class="container">
    <p>
      <a href="/api/friends">API Friends List</a> |
      <a href="https://github.com/mezamic000/FriendFinder">GitHub Repo</a>
    </p>
  </div>
</footer>

<div id="results-modal" class="modal" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title"><strong>Best Match</strong></h2>
      </div>
      <div class="modal-body">
        <h2 id="match-name"></h2>
        <img id="match-img" src="#" >
      </div>
      <div class="modal-footer">
        <button class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>
<script type="text/javascript">

 $("#submit").on("click", function(event) {
    event.preventDefault();

    var userData = {
        name: $("#name").val(),
        photo: $("#photo").val(),
        scores: [
          $("#question1").val(),
          $("#question2").val(),
          $("#question3").val(),
          $("#question4").val(),
          $("#question5").val(),
          $("#question6").val(),
          $("#question7").val(),
          $("#question8").val(),
          $("#question9").val(),
          $("#question10").val()
        ]
 }
      console.log(userData);
   
      $.post("/api/friends", userData, function(data) {

        // Grab the result from the AJAX post so that the best match's name and photo are displayed.
        $("#match-name").text(data.name);
        $("#match-img").attr("src", data.photo);

        // Show the modal with the best match
        $("#results-modal").modal("toggle");

    
      });
 });
</script>
    
  </body>
</html>
